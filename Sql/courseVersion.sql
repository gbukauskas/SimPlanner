ALTER TABLE [dbo].[Courses] ADD [Version] [int] NOT NULL DEFAULT 0

INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201609220115177_courseVersion', N'SP.DataAccess.MedSimDbContext',  0x1F8B0800000000000400ED7D5B6F1D3992E6FB02FB1F043DED0E6A2CDB55DDE831EC1EB865BBDB68DF60B96A06FD22A4CEA1A4449D93A9CECCE3B27AB1BF6C1FF627CD5F18E69D97083278C9CB511BF550F2211964043F06194166C47FFDBFFFFFFCDFBFED77275F5951A679F6E2F4C9A3C7A7272CDBE4DB34BB79717AA8AEFFF50FA7FFFEC7FFF93F9EBFDEEEBF9DFCD2D7FBB1AEC75B66E58BD3DBAABA7B7676566E6ED93E291FEDD34D9197F975F56893EFCF926D7EF6F4F1E37F3B7BF2E48C7112A79CD6C9C9F3CF87AC4AF7ACF907FFE7799E6DD85D754876EFF32DDB95DDEFBCE4A2A17AF221D9B3F22ED9B017A7179F1EBD4AAAE4E566C3CAF2F4E4E52E4DF8202ED8EEFAF424C9B2BC4A2A3EC4673F97ECA22AF2ECE6E28EFF90ECBEDCDF315EEF3AD995AC1BFAB3B13A958BC74F6B2ECEC6863DA9CDA1ACF2BD23C1273F766239539B7B09F774101B17DC6B2EE0EABEE6BA11DE8BD3979B2AFD5AFFC492CD2D9FDDCFACCC0FC5860B43EDFCD9F9AEA81B2AB27E8451F8E144AAF7C300138EA6FABF1F4ECE0FBBEA50B017193B5445B2FBE1E4D3E16A976EFECAEEBFE4BFB2EC4576D8EDC4D1F3F1F332E907FED3A722BF634575FF995D773CBDDD9E9E9CC9EDCED4864333A14DCBDD9F0F29FFFB03EF3BB9DAB1011B82202EAABC607F66192B928A6D3F2555C50A3EB51FF28C691D2BDDBC62E5A648EFDAC9ECA459155C6AA727EF936FEF587653DDF2F5F6F40FA7276FD26F6CDBFFD20DE2E72CE58B9037AA8A03030669EEFC4DBA63F55F869E9FFEEEF7A49EED1DF1259B5EA76C102B4702FB92EE496D2FD27F0C837C9B55BFFFC9D6E89C23AE643D12AD73A910FB907C4D6F9AA955C9DEE625CB546073F5F299ED9AFAE56D7AD76A1974195CA244DE14F9FE73BE332C42ACEDE545B746BFE49E04BE24C50DAB1C2421091814805CE5B2FF838F2055D835D71CC6D63367A9DECB4264E5F9D9A8E88CEA0F960F5DF9C1ED97537DADAC740568A87CB1CB2B62030C663E0A771CE90C6A57E674860E4D929AA27B74E1E2FBFBD23A4C5DE6DE4AD04D87197417854D734D44774566A1C6B1818DBA98CE8AA936C28EB149983AEEA688AC7E9BFADF4F9A4037175552543F571BFDFCE5786A7C75289AC1BC4FB3523894FDF8D4FDFC996CF83CDCBF67ACE29001C7663B3DDF71A6F62CB3AB7133A18F1C061D72719A66129FF37C1F380A591E104197F6FD3C29736426F17A9FA4BB0BF6F703B7EE8723F79FEE2B7798746B2E0C21E77C5638D063C0F65D5256BD0D12835E27EC0FF9672EADB4180D1B2F697DE2984B37E95D9255BFA45B96D7564F368B69C6D8F62AD9FC7A71D8EF93E27EB67ECF130EB0DD4E105BCE779424738748A3F2DFE4C53E71D602510CBD686705D588231E2DDCCE0AAF927B331B422D7DE443213AD8B186DFF8DA89348CB0ADD075040C522E474E2C4A25BF6397B0660922956B23A2152B99452CD5F413F5C5862FF522CD3B4D567742E0036E85F0035536F305B6F0E48F1F4BDF2759FA6B7350B1F225D5C6F8112A59F8106BFA8FFF53C1F8E2E7A73C2207627D030F63353B17425D7F3EFA6925B22154377031D4B233315675E5613C0F82431F8B2195A4976A0A09A8E2AA8EF4732338D4BAE052AE2B0D162AD7860B56721D3078DCB689B76F6416B352CB246EB5AA2B17664103C3147F87056B1A8AA3D1CCF76057BB993739124F65C3DCAA3D8CCD08CDA6CFC3B1EB435C6CC4F326E648D34FA4016BA63F7CBA2D9BB6D577A7138429D2F5E6EF1E4F71BB598342F58178D9E6ED2CD70442BD4C5725C76EC5424DDEBFE4D52B2EC45FF9CF5FD36DB809FD9E253B6F5A96B56F3AF0399A72F0210FB1F7DC8FA8E49176958DA36DEA5046DC56F41B753D538641D7C5976297C0A0F53A88A6052A4650B8EDCD859BBAADDB7C57B6D0324EB343C5E2E8BC8FC5961561BE5BE104E43584B765730318AC2D2FD23DC74292B1FC505ED427FE7D19342EEC55C9026E4A97F71746DD05D5B2BDBB8014DD74FED5889798B05626DD7B4EE9CBA46F2B049FA6E7B4F8F8055BC139F8062D0D8CF3B3908F50ECDCE827442A12789AD15FA8746BF219A255691CCDE63B54FA35F80FB19A3486CC7E44C7D3CFA8BEDD4E407DBBEFA720A01BCB83D6899ED2FADB88D6CD7D783039E51B4B18FCD6279971ADAC80B38A65FC73DA5A5DA729247FB09ADDE212EA4630BA5A56DC544E5DF25DDD00DD2CE9E17A797555B0AF6962E9BCB6DDE277FE7ADFCEFE3917D94D5E0CB65EB328FA42AB8D9795BCF30D173FEC9CF77A8E9E1A9565D04A85D58C7955FBD80C44065CDC3AD6A1ABFE1F77FD38DEAD11C7AF3532F0A1D4B5F3A336F0E7AB3FF4D92C21A573A5998537A9368D3BB9892B7FEADAB331A6D7073952AB9958D1EABAF240310D9A9E0C06815C6E1A6ED4C3BF0C4F9FFD786CBDF4AD6D7FEEA5DCDC4ACF6BFDAE7049C7EC58DB3BF98571EC2F355CCF9D21CAD47A02C5B4EF54AF680CCCD8EADA5FD8509821AF669F35BC8695BBE233B5C584AF3FFF7C6087E97A234CAB43DD77E01DF3DB8C1F3F1B26DEB15AE4F33DE8E67FA7D7E986CFF66C7D7E2AD2FAD1FA79BEE32BD88418A5AF9676D8945DB04D9E6D97EAFDE5769F662FEFEE8AFC6BFC3B7BEBC3664DA3628F9B8D15B5A396B9B6DFF99DC880EDD5A675A853DA4D5177472B27A17693A0CB406E84F24B8409A48AB6B363F55C4F27C61B204140D0BD0F506C92B1F71D8FF6FC758AD7B28681630F6BA9E377512A0475425524412AA47E936B1D6C57091C6553661A5E5B21AED92B9007CD5EA8DC34C6A866AF301FAE36AFD07469839768EC0A235E7D480465ACEBB2AD6DC7C0FC9AA3800F27D9D5E80D3D4297E779769D167BE064656BD93D49087DB3F4B6FC58DCF09DA21C1F61C53ADC4DF1A59AF17136A8A9A7F21BF81D44AD1E83201E2495073021945BB830D7D4D8B05477E643596630334A251B47F6EA3A5B8436412E1DAF3D6A15BBD3244E1D42C4800896BEAB01BCAB371ABEE7C4EADFF2993C1F9DC52D3511A3AFD875C2D1126DB3ECE845DE33BBEF11D8352BEAC8116E6F635FA5ACFA9057AC9C7C1A1BB0E0BBBB73D086B2FC2D2FB67F49CA5BC3D0F99F11867EC1368782EBA98B2AD9DF4DDEDBA75B7E80FB70D85F3193672B7A5FD1A6E6CB6FF5EB507E367D9DD5AD82E9BDCB37BFE687EA75B6ADBFAFF30855331088329C766379C3C1CCB67CF7ABF7A990A7FA3FF373E64CDACDFADC6D38415B4E4A5A7DF898A454D3EC5C535D678FDE2E49117F817414EBAA21E7BAA6D438CEAE8A9FC3D1EA8789761C35B210CBBF4B7EACAEF76E7BAD4E6B416033F27BF5EE5175CB209557BD9D9151B53A854BADCD74A1165C1D8406032FCC3C958F3DE0B0FBAF35D1418315B421C3B55C07FC2EBFC1FCDCE28CF6D5608CB4A5464874559C9DC45E2626D9B874332B83044D5344469D63572FB82621DBBA2FCBBB0FACAA0F00CDAEE210E65B6E78AC36AF7F7086B75BD6089372B80AB4AE1A09B72F81263E8B373DFD92EC0EB1BB72FD3058DF329DBF13D6491CC9B5C1B89FC6B867005B7442115F90AEFE864216CB83BC1241A665817787730482335E1B18CFDAEE87E6393F603545498EC71B80159049A01E915BB7961ADB8ECDA7BF568964F0D9AF59C8FC91774570B2A9FB21D0F8588F6B0FF65B2E9F801BB15C23B36908D596F15430537CC1830FC5F8298F433307EE691FF7787C70E2A73FE0F64B1FA61D3E3A897ADA9DF1EB93F51C07DD3E4309F9F28DF4290ABCB0E63B3945D309F433138D6D8FF85B438C0E9F405C43E3A5B5C122A6F57703796E03B90DE0255F4CD3A27885DBBB5EE1B5CD362E1C526732EBD63BD88FDDA20DE3C4C3960BBDD0225871E8259897C6ED2F70E86AB66FF1C08CB5184658A46F00FDBF56F0BCD5536D00F3DD5FE08D4E7309E773A3D3345C0E754DF79FDA80B4056D97EE2A73F2A4FAFD9D8C2BB69591A1F09C28CA94C4E6DC9D3BDF63D1DFDB6AB7BEE447B74ACB07A6298FDFAD05460712676DACB0BCC3CCFE342AFEE376ED7ADFE1417CB4CD2CD28B0A2B2F615CA82F96C78F3FA95C192998B8343424706D6A1DB4D51B28FBEB5081C872EA147A9E4ED8D795380AAE0AD9F9517C1C05ED12FD21B67BCFE56B6DEAFAA1B6317ECF4D5A7313BF2B9B445FD8DF9DB9724ED6175EFA6115FA60C5C72BCBC3F9A9423FE687CAD06B9CD760C498384F2761F15DBE4976EC9C133049778AC82E55520776D9D69F75FCAD0100DAFD4F34CE2D8C26F5FA1AD97C95F33543104F76E3D16CAAC031EDBA87FD906DD925A63EA172DDE30855F2FF9A183E31068426514F81B61026939D7A27DDB04D5C4E77CC1DC045BE9F6A1B2CE9C11A7597BB8F6932BD77C41B5EF3955B1D6C6B144BA8D16F5D4A5E8A4B8B1F6AD26E810E5E376799DC6EB9C5013B5FC1AABE2F3522BCB927D97F5EF3D78580A24F5CD7E0FBE91BE886E6DC9CC8251EEDA3FCF77C0CBBD028385CEFDC2625DB7E60BF057FD9DED1AABF6EF6F8D239D99D1F8AFA8BB8FB9ED0A722DD8C94D826DD27BBD3934F05FFAB81F0E9133E4117F5C6C7CD09BBD837F97E9F36670D9F118AED3FB3A434FBC59FD0227EBA5FDA1BA3CE758596A443782D6D1F32549DEE3B4D6AC03CC3F7991A43D451760D2F58F115CD9FD20B45ABAB8B58A982CA57ADE72ADC46159806DB5400250B56D0640BD78AF498CC796FD39A3ED487641D7BDF1F91697BDF289887FF800CCF1C6752CCE8E3316FE5E8F374CC3DEB1DE9D958A8829F66FB44B42675DCAEC640B75D38DB045DBBEFA601D00DFF2727BA275A088F89268245BDB4F3B17D9B35E1C976BBE05090176C8CEE331E705D8D59C6273F1B1DBED49372736C7F5D56FCB85E453BBE77323ACFCB8A4ED2D5A0226E2A31758DC72112D332D8613344C574074B4705D3B4FAAE5E806E16F53CF0D9395C279B5AE6CE8E2EBF30E89ED607622621368AC34807F68DA315EA5D8A5D8323472BA33614DE22CA8A95B8745DB842E3EFEB17E8C6728DE11970D2B6B87AF44D8F596CE5D951EE85D93A923D1DA475ED07864ACBA1E7362F2ADA96314D8AA13A826DD46F2B2CBB63CA4F72DD8D59EC3516CD0BEF953BA6862E943546FC5D5B7C52E174FE567B2E0A83A7554E56E1F831ED7BC62A3EBD0691691515D129E5B008D54A412AABFF9C96AEB6FA160F4C75C5D950FF54A4EC7AD6CFB7BC555CA49467F9FE6EC7BEA595FC79C3ABF4FA3AED82D29A0944C9A1DC42506A7A719BD42CBF635F6B8B6FB654F673E9E5DAFB664E81D3975E820D46C563AAA7292063E5E9B2CAD353D71A4227E85CC5DF7CE8C9860C9B90FF4087E008AC6C5A9A91D1D7BA1C37011D165A256DE478CD48176AEE7B94DEF6015CA9FDB35F92F553196A852C7BFB65506546A58ADE7FF96B0B9F0B30C3F0B19AB42BB070A537DD2E88693CF2F09D8FE3BD2E753F96F72DBF1FCF816E16F557D729812339DC3C7A7E9F6FD3EB14BAFEF2207691FE437C825C9B32AE5AD85399876901CF130F760AC6CF46018F9A7D1E343FC0EFFE67715C7BA3AD7E5C0D1FAEC709B9EC2A8D0853CB34606915DCF074D80B681A6DE7B7E59B5D72530E4C52B155132C071B3C12BEF8146C59B1BBE753267EC220CBFD3DAB4F67C3370A5CC127755E1A3EF6262EFB8BD3C7DA54494D3E258772ACFCC45CB9655020FE5497772B5983B43F81F11CC2240FD15C6C163EF0934EB3CC68427DCFB6E9A67ECD00CB54ADFE856D6E47D2B6D965C5F5A1663AAD5F4FF41D582151F0FFF3410D2D7EB4B47859E7CE1A6AFF64A9FDB1BA6585C0C2630F10895EB330E88C941603CCEBA4BCA7AED7FAF2AD689ED7D0D0F597A4D8062D57D93B18266B91D662D21EDD471FB31D59EEC20759FF916EC9E2FF509F7CF8AEBB690FD2B4253E8EF065B67DFD4D0EAFD22F49CA54BE2CCB7CD37E902D19B297E7B779C9B22F7586762EB8D107260FEA75B63D914D69B8D9B8398F4EE5DED07FCF2731BDE3D3C6B761485AE43E06CB52E803ACAAF6F92F5A9F9FDB0C4C559AD4D91DF9F4246956E987B734AB85BE73128142857808ACE76FE84F2DE16860599D3DC6494E948118FC6D6743AFCA69D526BBE76702E868586CFEF72AB9B7C36FA8191771235908647DE9C4B8D2789B114A9A008E063D6FF2629F54C305BB79A6E5CA3886DA7AEE4852E8A3609A14493093B3810996011D4F6DFB8551D5A7F61C727C72659BDAF747AC198EB4BEA23BD6D0BE00D4F55566DD296DC2980D913649D1B1D913580B3A479F3A1999421377543E7EF4C801986257A82A6CAF54E68021C0F9FC1004644219C44A80D7BC0D90384AAD3A116C8343AF7DE2A02A4395E58FD92BB663153B79D9D85575E0D0729340E153F8707CC687E2155B1A51316B94D96CA0354A86AE34FBA741EBC06D7BBC70006DD7C015B1362D09F480620E3E8E4E853885E125E0A648E448B0664A378F8181947B7EC48394F8C0696FA624AE0FF5AC78CAAA4B704F19B99AED9E249989B60F605CD0D15B4D983CC922C66534C3F2C50541E91C0DEF34F7926D3588E46B254DBDD6CC199EB4550B7484EE1886EEA6401C2A82B9D1878A8832105B5AE43900E9985B11C38D6FA2C5114760D2333A707D73C16AE62194D87B1240FB896C0680FB89923230529EC3C5815F63424E9EE70E3A8DC6AC90D77B47F1AE569D1DECA8A416453A2AC163833931CB34FD3C40D5E7D10E206BD5DF6EA259E46012AAAFD77040A1A4D67300139A336F12E8E259FD20B7B490E9742EC462E25806AE98B88E05AB70D23D0C2F960C7C2342C6CC8C4E1E1873EE3E1ADE2321CFC8EA0C58338A82D27FD39A63B3E17DB38EEDBC49F647537E6DD5F5B9B1BA7119DD585D96C8C935A22CA39915A02C88F5BBB10889E6D0F977C93A2700554B91E4B0333B24AD5BC2B54597C81CB0A40B8BB42F5332A52D82593FB4CE8AD3E5776E12FF4BA0D27B2767D70917D46A600926F1C00062CEE82168AE3E238DC32DB131CBD1485ACAD136CD05B18149CA0CE3C96D9C10671248F830664016962D0A43803575140904268CD9924E89416A84B01E93A0CCC2ED0C2ACD220DD2084CF944178099A655294ACD3DBB17118893982FEEC943F1B3C1F4BAD455B633C39E22C0635907FA09C567313851F13B7F4E63D5FBE5985D726D78897A91A36EA455B29A33AFE8F9A0DF3FF95D354DEEC3422FA4D43C78937BB096BC7072BE5B5AD47F25047473F05C195B41C0C40FB1A653B2B99B05FD5424FE67C01D4940345F801801721D487480DF94989BFF63429CBD252075F438AAA78D62F5DB1ABA626C92FDD63A48E3FBA6C97D0954192E0164445247026B439E2C0C2B949C93234A86C439745D49C9CA053DEF40BA8A84413BDB33A0CF2E1ACA20D0548433834E4D986403049A82330ADCD0DC4C1AF52159DBA44043B89D116588448E08624AB6220B04B0D4451A00BA545ACE18C332B35AF11B175A309FF3010B160309567D9EEC45418527E8B1CD3F215B8F0E36290B943BE60859AD68008F0C42AB2C6604A45546449D27E5645BDA4EB1AA3D5396ED9816EF720ACFC0E1BCB6828FB25B81792070F0F150C78EDFDC3A785194266ED8B23CBE3574B3A06305E1785EAC21F2A00CA26F9A6637EB429FABFF38C4733CB58765F947671641CD0BD7C087662BC0A994110E03009C1E6E9CF5367F227D7F0533CACDA5F2206666400DC433A5DBBADDB2E85093DF196715CD8467468B65C734E6CF9B1538087F7301089101A57BB9E9A2B01234689BF591B0F3C8191E631EF195E49266A0C6DFC524C6E6DDBE24CE8FE4586F4C0C84CD362D57DE38F3639A113AA268998820E73FD65B24AC51989F017714F950862166A05914817A521A1B340C196A74ECD1E3A2523A020088833CA215118458948D19E18ACED951605550F6762D09559E64C735EAC589B5A189C979775F2FEDB7821D588B90487D4E626BB8CE40ACEB7A4E4295E10C50A64A8A32941544CC04D9A1C57AB2379D3062EBFA023AD1C5B1144ABDC337AD0BA7F563FFE250A7BBEA1C1F04D0A86DDC90693A7C9A3A314292E40C0A452236A4792188499F340AA5ED1A10683F544295D7B6D12F791E35C9675E6C7A9D4757A310DBB4D45E99C44C4D71A842C922EC1BB7B1AF756415A38863366452E445C7699FF57E719CE6CED11649ADA7412BDEDD0A422D3AC96566D85A0577B4C8A53CB637B69A12A92B79754FE27F11447ABEBD5F2B1287D8988E581CDB4D8C46A1A345837C12A5B0142675311D332AA9A611D66C624CAEE36E922682A500196011AD008F52F24B4A5E3EBDC1C45949974EC787333C1BE27079D0B1B68A2CA52EC112D0161364525E4B80042BCFB3412E3030C22A9C8FFE16B497F5EC8DBE755BCD6BB298A35ACB2B4127DD4A76B290FDD1B82ACB780D5671148B783D68235BC28E567010E2D665FDAEC3F28D64F5AE0779546BD7CDD20DC2DD9A2CDC5558B7712CDBC530D7678A55EF819C6FFD5C0941F8C468B820D6791C4BDF0FFA0A6E0684FBCA9232348CF6722BA1891E59337E59874A34205DA9082279A833D3C30B6D504BC5C7C4A433075C111950BAAE5BCD04BDD7BC4D75CFDB54BC052BFA60116C7B91EE5F5DD5BFB36F7CE23687B2CAF74996E56D72AE679CA7F35D51CF67F9E2B42A0EFACBB49AEE05AB2C2BAC3C3D69AB9234AFA668E54EB06D42EF0253AAB60E9AFD1124D89D6648045E25F7380D5E4824D3E5AD4729F51E5C12B1D67D8C916A1DB52442DDECA50631F5134CA4D8A00C25D63E282313129FB19B488AEFBC2DC4CD241D08010E566C88923BD342B6DD41744A2E3494C4F2E0B25573CFD3700739F8501842EE334B37403E56A803301D2F195536EA704D87A529D8FDA6352A58D816D27D523C88DE9872908C8A2E1D9D09155D2A370B49354C39085C2DCABD23512918BF9DBE148DDED29585B40BA92E070D38E37D8A1FF20461B254CF61168283B753A7347814C9A03610031C95B4910DF11AD1010E01126904BBE06928B92E1A1991981085CB44538AAA6621DD7E60AFD36A3F6EB7341EBD3A3A81D16F429E511339C821431C9DE928A77F4D6B9597692580AB40383CAB5CA3BE8913A19124019A3703F47C59BC1703A7C24955B321C8547BA34DA48AF1AA1A87B2C01C84299C8F71F98D95ECCC0D7543A534128204238C3B922CA47703067128F56C8CC8D571A10CC68555340A45543AF144D3DB0F97FD1F1C97A971CDA12D6CCC610D71C189F68F55762879408A06133AB65C2593D02A53B1369961F13D4C64598AA4513476CC45929CF0F5A138664C7470751B83602B5C789DD96C951B4C16151C3E2731A437A81D82E8FABA0E0C764DA20AADA7894A0C51A51EE21273EEF470EF0C574862A6EA3883865690DC3AEF8241622682B31E32C481F46E0CB3D4BA5A34DEDACAE132EAE8405B80E685892B13C0FF64918FDE82C8A3D63082DC749AE89A94990C9622E03D323D6003A4EA480197881B2148EAB0C7CC30098E5DE27B3228AB09270770DDB9CC8C257E04514678288969E6040F2701EE86C62EA3281CEA1221B6745116D425E1A38856817D6058A39B38E9BC9424516BCD9C64A1B68E26648DB0F1C42FBAD18365DBBBC92F6D3B265C116713AC0F494C70E21BA4069303E4044E4020E8FA8B0133C6BA5AB4996F2B8723A8A3633C67F5C30F97899AD79578D8223433706B6F0D8911B883318994D0C95CE7303D7BAEAB7C7D253BB14CE75ABADDC5D2A57C8D0518E3503D83D10C54078DF0E1CACB648143C40099C83C048B464C5D2E5DF9EBD2C1AAE23C212D201999D822D1044425F1135552E6AB57B3E8E839D451BE4909D443854BCA766ED0059181EA968B9EA414FD26C22F9D7D44A5B9B27911CE1E2423C7C59E8964BAA0568AF69220581C5AB252DB5E6D6E80F3676C0789CCA00D1D08CF75E6D14641139E93C4E28A69E24B425B165C9278D4360EEC21015BA3880E8B550BBA6EE2EEEA866CBC8040A9B97B257609D97B0546C7EE0D1224E4EB053D0518F100C1692F9470A91993CF82FC61E9677DE585259CD5E98DFCC49294921815979329832AC415924355E7A97FF465171492359520F600F9E0393E0DB22226060599B4A706056428BF752388D29E0C943A5361BB860979D6149698FE36A1CE633B980971861C8B66E1183332624C613919C34485A5609CFAF0E1709E753FC94E70869DCBC72465A403E48267AC93460EE6AC1386DBBD8B35F00E66A99B0415609A358C75633A369D012C219BBB28B0FC6B532F946E78C61502A411C3702C27120B5B1372EA309B483DC460CC760588849E1D4B6289941F4B604F18834150A48C58E0F11AA51F20423D5D93417E96DC4E209B7876274072E8C3252269407C318506E60D322F410ACE8C1986C296A211593145A3BDF023F80FAC6D0CD71996A6511F2B2EE83F00C7627D7D4368E5C8BEF5AD4D9070177C59238C47CB1B6296AC39CD08C6349A68244C96686A111AD930C1197521588FC49351177AC868665D684CBD800A8A9EB001609394B2013C5A5084484AD220529FF8C3275BCE008B8CF1863441A0ED63491AEF60EE0771FAA82C8E6C730317F62DEE6C7FB92EE1D40647213EAF234A120B68676719086B174B9A4040BBE99F13822321EC47B4A8E476A6097B94A73817B0095BAA40806CDA7794B48FD90CE1B435063DBFA79CF52B36E23D3C5ED9C61AF1FE1D71321109CE75EF2E8DC06DD70ED9B1BD766B0759AE689776DAA17D7667A79DD94586CBEDC88EBBB1DF4EECB80B3B4A6EC1DDD76DE7F5DA75DD765C47D12DB0D33A07ED04C41916F853128977E84FF1AD1BF54BFBB09E67B533B58892D03418A34ECACC627127A52B12DB8B4D345064948787758CCA9ACC10DD70287B7E76B1B965FBA4FBE1F919AFB26177D521D9B5EF09FA82F7C9DD5D7D1536B6EC7E39B9B84B36F50AFCD78BD3936FFB5D56BE38BDADAABB6767676543BA7CB44F37455EE6D7D5A34DBE3F4BB6F9D9D3C78FFFEDECC993B37D4BE36C2349F8B932DAA1A72A2F921BA694D6CB79CBDEA44559BD4AAAE42AA99D7CE7DBBD564D8DE5284B6F1074DF9B2D5CA33E993581DA29D553A8FFEE2E663E3DAAC7F672C31B9678584785E428E4379CEFDAFBDC88801116A84E8A13BBD824BBA4E8A36C0AD13DCFF3DD619FE1D13EF1D6AF58B929D2BB1A723219A9804EEF4DBA6B4426131B7F75A3C4219C5EA76CAB531B4BDC285EA4FF00C6D6FE4AA7D4EE3FFDDCA933A097EA949F9F29C850D178A6C15151162ADE49AB81BE0B51D702127FD47D25500999E7049E0BB735319E2E606A58BE2C9CA2292AB348DF257AF37218EA8E730198C9A1AB190A469086D3E8C68B8A9BD93F571B99C6F8AB83963D14CDAEFEBEB18F24352B9538E832E9818B3648A0D8654FE82F4B55F9C925748AFDBB353E169C385A89DE4FFD944525DBFFE62B5B88265CC3B7871E03A63EC63AF45E5EEF937477C1FE7E60D946D9F494223ACD5FF8D9561BEAF0A3838EE5535DB1AD065CF1773AB5774959F527028DA456E83C4F1FF2CF5C5469A11D44F4623A6DC187F74BBA65797D0EC9B493135ECB810BC6B657C9E6D78BC37E9F14F77047682587394D3898763B554AC2CFAE7BF0982D50DF85F14C820BEF8C483847B7CDB18E9DEEBB3F826DA73F3635E1DEA5DD428FFF6E6ABF86ED7651E0E051E0DCB0D345CBF7850FD6FC380CD07AF5C11BAA5CE2AA8A6A91C3ABA42F71380E5D95799D9A4439FF0CBFD229F50151F8CF5FF9F6A08C4F2FA5537ECF921D4C552E59D91AC2AE3BDD56509324C277FDC08DA7593D5C8F1D2A86005E2B744068B1ADE3754BF06C7F9A6F3F785B36E6B0B24AC65F1D769674CFCF6949C6F24379511B197B655B002BB89BF79839EFE37E38CAA38F3104ACDB121C32ABF82E439CC0344B51F77ABA7A3CFD379A4527BD7DEE193ADF4DF21BDFB9861B1FC781E5E5D555C1BEA680FE964B5CECFED61E3FE796F44D5E285A582F7550C9CA83664D9240F90AD16AFE9AC11DB74262A410049BC8CC7738F5F7FE2D34AF716633680E7D666EE9DD26BEDE11820C418A412872A1C9F7F06624EF5855B102765EE1B51C765FFE777A9D6EB85A843B012B38F8FB8AB476AC718A7C612A4E3EB9C8E160CB3679B645A86A850ED8D8EED3ECE5DD1DB7F254EB4F295A8D1620BDE17453ED02316FBD6EA431BD4F4EE85E25A7142D793DA4452B53870A94BBD891E779769D167B15CA52810BBD2151814C6DF8D985D6C7E226C9D252B5B6A582D52C32EC2D15755D85AD28AFB514B6CD36F764C0D5999332DDF11D29E3BB06404C2D73B8D439EC76FA2160FCD5653D5F271CB7A6650D5470A66F5BE4866A0E7DB5EECE3687B0FEBE022876A09DB2EA435E31F54A61FCD91157885A52CB5CB47D59FE9617DBBF24E5ADAAECC512A703C6A1A8D75F95ECEFB4E38558E430CADB3C631F0EFB2B55E749055EF41089C235E83D7CF9ADFE2A806BA3D75972A5DD6FEAA50E17D7F9E6D7FC50BDCEB65C4B32FDEA5A2FF6A00D8C592D73F175D69AFC0D8728DBF213499D705776796AC574DAF5F6A2EBB4F1D7D5EC835AF61AFF2D51CD35ECBE2D5A294CB335D61DAA14FADF1CACAE7AC88DFB4E3EEB8E3F3BD2FA25D91D2062DDEFAB8190D377538EB757406E69EFCB2C0AADE9ED98F84F32A7B08C804C35C8CB31B5CA6A600966E7F10724948BDC1D8A242AC7E1ED77B9585DDC4F1E0B0530C5205FB91F16E27BCB1FC092277E37E9FE82622017F494C240E5FBBED34D40F3640132A9E492D5406ECCF6E48FB39E8607B8F0A6EBDA4416B76ED06456EED64D432AC8BA4128E0E62FAFDEBD532B54EB572A727254376DFECA14E7AF5430950DB5101C548F5C900358A1E5E305B69258D72246B716F07586CFAB8C2338536A5E5D73DA1D5F3809642320CB486DA1BBAC802BF685A63ED254874DADD7542EFF42233FA8EED5F6A7255F79BCCBF9AFACFE645F73290FBF3B7DF451BF51D87E49F7EC6F79C6D4E3AB5AEAF24D583DE3DA28875F5D38CE6E2052E3CF0FFB65459FC930C0266C49F8D88158CB79E019BE889B4B90FA0D8E3A20A9603593FD52895112E3E8EF79D0B31198F66202DABB57E7BA318407A34E5347C2637ED096C771FE8EFF8CA909B8A3121B7E74B0320FC5E63629D9F603FB4D393C4A25EE14EB5B6498625BE2780A383F14F53B8AFB9EC8A722553F3437D57399AB4DBEDFA7CDB159E7412FF5A3FC9925A50E2EBD7C35CB9F1427D0DD6FEBAF1208348ED167DB31A32DEDF1E707ECABB527F073DC6A3A4AFE3B0E4A609A8D87FFF36AC7F6E8FE0395BBBCB06A98D9BECD9A9780BB9DE21082CA5DA8AB0F74DA5F1CCE418C9FBF33D556197F757A00BF61AFB91DBED77721B9C8597AE779A9B129144CBBD2975D9768E243C755D9D0F15F9348F3E3380A8AE91A81A997CA5637FF526ECA701808E402D060A4B2B4BF6DA109C3F2BE5167A86EEF312570B369E6E0E2362F2A7475EAA56ECFDD51C25AA1CBA3EE826D5ADFB4F2AA7BFCFD017F3B690AF64CC52596768E804DBCE934F8FC5391B26B14467AE9F2F83CCFF7773BF62D55BF36127F5FC397E12D16A0B7E0F3444078302B921688DDDDA80F58A51422C768D6F7DCA8F4C4DF1FB061AFA7F70CDF0302E2FFDA491C8731F1CF1101DB6FED2C76F28E719515748D35E74BA5F55842724203E549D0F8DAF5B28FD5347C414DF880586FE41751BC4EE280BFD1557BE9B343E8A2244DA448199AD45AA0C368C206DA25A0200ED47D9F8EBD4B63E7CAF891D38D423ECFB36D5A03F6E46DF9819FDB5F9C5E27BB128FCA0B4CA39AC8435F1A5A3E0FB5CAB030BB5F867F0FF93CBA5C1A52928F468875CA8E46786597D7434DAED156393DE9DFACF235765F566CDFACB347177FDF9DEFD2C649DC57A89D3AD7ACACBEE4BFB2ECC5E9D3C74F9E9E9EBCDCA549D9665BE9D2863CDB1CCA2ADF275996575D2E16421E91273FD67944D8767FA63677CF46525329CBADE48714D4BC05524A3E91BF320D1B3D663EB3EB134C313F3F531B3E0774423D9C17A7872CFDFB81711167756099FA705823AEFE247740DD99919474446969665F93FA9295D37A9F7C7BC7B29BEAF6C5E993A77F70A63D9E580C849FFEEEF722E1AAD0BFB184E88E679796F6965B9C555AF7E54EAB3DB9B474AED29BB446AE1B153D5F07363D2A449FBDCDB6ECDB8BD3FFD3507A76F2F63F2F55623F9C346F719F9D3C3EF9BF963910775B2382291B1B0DBFB882472B631A1C684057CAF655338E3478729C26051B492F86E0D1B4848246649273C0F870B241A35537CF8011CAA4B051E93A80BED280842347B1338C61D3710D4BDB62A488E92D3145C7D2B6133D234998EE97FD770120120905011B4D6012303884261DEAFA30FB742501A36A4904090B4EA112302688608898B0FC2BE012A0105472AEB47438ED7B9FE534A45CF15F9162AA954025A1A55809A40724560913179E4625F2E116CBA212B71B21A54A7FF0F5987F259678F049A62735C99117CE6C32C1291788527F4CA7D366F8FE4A61E17383231EA0542547713CA31AEEBF7BEC038052DDAD7CD5A67CEB1A0CED9650D8196B4892E2AFF8F4B428FEB4E46428543A8E30D7338A1C05C8B5FC236160ECBE69F6D76D826AF41DC3987DC41F3260B291B06145F25DD9BD567477DA519D2BE05C2147B1C8AC2E5A1FDFEFD27ADF71FAEA1F8E70EA263C04C81F771B68FFF8D499B6FE4CCCDB2486F28504A04D2737994BB0FE01CBFAE06294602FDA20C3C4F0608D6AA1ACE928B7B4038F3CE361F3BCF6FDE1F73FAD4ABB28614C02B5C1402908A9787A91C86E1D06641889DB85926AA423AE83C2FD54AB661B89475A098C31919185661798C0C7648CF4774CDE26859138577947BEAF408B4E8FF914222A8D5C987613D3A0808B8B74942BA5C77B7EA6B194F524FA3A0F5CE10B6FE45D8610FA7640D3AD4A0292C8D721433A92C8C3065392042D758D5EA00E429399848F32F2FA0792A2848C51A516E24A1272ABC405A69A63C55F65C99955E451FEAF7DF2ED7FBB0E4DC9AB1281A29457252EBD2822D413A8F8D30232A6843D335133A5F80F0D488DE2EFCB1E93A2A80BC3B646FB96CDCF3F9CBC2D7F6E96F9B3932F5C1AF5127552CDE4CDD798A5648E0DB89172F389C09F59C68AFAE9C3A7A4B6E6B2BA166BC6EB350D810AB32511F62271CC961261798BE9529CC9B9DE6CD9D28BACE119AB252E3BD08214F2FF98ECBCF5BD795DA3E5894C7BF8A33699E2143E4E6B8A95A3B09126BC5171BC7DF6B84E0895BDF38542542DB5A69B85235E87D6BC27ABDF10BF6F6B0F6D5B93E317B8BC5421C31ECEC8F2A0F61CEB3D9B872905A444A1C9CC9201055AF3A60C27407D38E2B27D669491457ED822711199F612B620DDF76DCC9AF2A0169AC7E1CEF29465D103A2E6EDC55259D0261172491396B331BB881D062BBF015BFCCD01190D81B3BFF6C7285E4FDD9A9428111C5FE4672D4FDD4729A69F905E46104035B6951125CACDE7430F25B58A81E19F1EBBCA72CCB3D292BDDEE589F39DB290612580CAE4CF47A01425D463189694847250421015048B2956A894E924FAFE684A13429B052C390850D5D747B28E7B82083BEF749E0F3063C051EC6A53466159DF63A621A149C0603A1A619E1229174AC005BE940165BC2CF6B82846339DB454F77C9BBD7725AB2737F11F2294CCC4A4EA9F3C35F7E0E1D50C58E5D3FA34D110FFDFFD9941DA62146B88BEE8A9ACDD8F69CA5072147BD927209989694B7B2CEF69B4074E7A46137FF5DDE633817522ED5034A432F157AC4AFE9200752FE52D41E8AC7CE1B92E162075C8512C95298F7D6AD691B02914484D398F0996F4E328A6D36AF95A9F999205A6A7E4380A09E9F93B0CD2F2F8F44B4B9340BE4DA3BD251E337AC47D4CBCB48D46C61D1CBEFF28B0A7E7E608B96A0DC39ECF977D42BA0ED003467BB41EEDC3EB3E3587FF75D7FA5EFD1CCD32B4E5D398D91CFE6EE006199542C28380F18C64D66EE29AF3741CC566B2B6B0D964C294B8D96462E6C0D9AB07BFE305D1913E7A81A1649369CD6CFDD7B4DFF808590E24F57C09C7275732B0D4E92C9A810E51963B36EB94028FFA9FDE1F76557AB74B37BC7FBE2035710944E0A0E81251A48ADCC9BF689D7C6EBF66ACD2A4FE66B0AC8A24D553A57C2AD2AC7E6EB9939952AA1131560B7D20A896F0F309CB6A489939A7F46C38449C0DDD28E8B749434A7F41C34B1FDC736A880C4144753ACDAFC70E043848EA9AE7BE8DEDD621C036FD5DB84F7DF2FA02572810F014150450BCD229A1E08083315EDF8268E8E3F00D9108B96AD393CE6BD33884EFD3A7732CA263034D102392C72B4D881F384EE13408A2A5C931624A0C4BB906548D46DF04887AFCE8915DE134915C759AEDCF0F043858CC5AA4B79580A49E1339794F6AD53B751B6036DB9F557DA3B2F6317BC5EA48C6272F376DB2ACF3A4DC24D04B40DE6D74B4464557C3F06CC872C2B2E5A3C845F0D56EB551C165D33B8E27A7234687C3116B05D830E5B3C466540C63254EA8F4BBDBDEB432D3190DD4351170FCED677B3ECF9941D404EFC0558B077626DAB9D47830D2D95A2D7B08283306C041BA445FA6CF0E2B3544666488D9F62F8C2850FA10B06289488A746A8B53330768804009BDD9A587FAC14104852311E71D2C770515147C08B0CDA05A9380CC1A83654AB0592331219D9382882C0EBE7A56C59F17469E3A1CE49C6FEAE421604EE3F1D800A76F914E5A6E92AD726D5A6D91ADD3579BAD610B05403586034ADA178CF3224A8A46047B2F85F20784223C0CD38AF1D3C7D2B9241DD787C83BE2BC8E3F3AF9113CD017091E70FCA069B0E10A4520BEF2E27AA589B2735C6E8236D611EC26E8CA1E82E631067742BA5CD64DA0C46271F215A8518924B0698547E73530065D9A063F9EAE034A54A045D0B42C8E96DBD196C08EF3CE86673958E6A6AD8DC422466132DCB275615B24C5D0FF4647881890492425FD3ECDED1A14770699293CD08C1340D0E8535EDDCE800861C0C2671D38283C66D3040E21739C484DFC791268B8CE53A0DEC012E461BD9962C92D000C4D7F51D48717522639221B866FDC07A7D75033C3D0C4E0B1E0523FFFF88033F03CF44F06D3458E5A81585DCD994BF42A4CE0ED9ED8A9A02D0EB5E861B914C8E85ED4A3301E275C7C09CE67ADF5FB0F5CCF554B780E4C59A997C2CBAC2099EF1B9225E070B418A8278562F1792062923D091A35F22C6072F37109A0298C1D09ECBAD047C23D6DF70B0EB83E02A238B7C36F3E57B31041A07412A480E11CA784091A4312E9140DEB383340E4C08093A343894308501B8A8E1D17A6908BEB064513F8EE92AA30DA3079C04C7605CEE0A0602C2E1C80487F93628206863E9EF1A2501062E75D8AD2B2C3428CBA07A1432A7706891BEA22C3050D2838296AE82855A3342E7DF2B5AA92A8E6CFFC6A64DE73A98B1259C15154C0C1C7431D066A731BDD1A267DE3FCDD203EED2720CD6ED6858CA93C699398C4CB3DBE9817589ECF2E5680AC3A90ADD5E7D644BB15E7AFFD61BD7E363D3CEF34F3EEA050EA212D3BCBDD4BFAF78C555CAB05CEF6CAF691154EB82CEE45A75FD83EEA71CC74BA24E1E828D53D196D2B50F0FD77348283B3FF09C7C110D5569CBEF1471F1F2748122A9E041F7098DE69D0610B0E8CF42A46E25C14297DF8844B78F8FE3099E488A905B385C63271B48B39D1650EDEBB566C093B905DFB44DD859C307A94BB9113FA56B02369D194A817BDEB0AD9B58E8BDE250234795CF4AE205013083B5A448109C279AD277EC05208720E1BB02E0CD5CF3D8BC3A6CA0BC8260C010FC9B46E24C8E910691E3B566A4E493D2AB3B206A4D80F3C6BD9D896382BCD0B29A7B3D26A144E6D4B7A86E47708577B4CF1051D23D42E1D9E1FCD623B3786DC23DCC485D12AE3DBCC0CA6A0F036ABC413E5D1E414385AF8E9E422B8717C3DB956BC0C41796647CCD2719096428D5B18A4B5E2867A988E0E9B65EF2F96028DC7797905989152D2509245444F4BB3549688B9D3D39011290E6F1DC9AA480FA9C8EF18D6FF29A2C3D385453E435C85C3C6DF428A8291755A46C76215AD043B746B280E66566105ADDD025A0F36C8964F3474ACC3E259BFB5B31E8C50AD9C6810598375B37ACB66317C6089FC9CEF04A2E6453CA6FB82A05488CBDD1E60C35E0E894326EECB3AC08C016963CA6E3D380F74627DA08182B0D4E5D340CD234E505D712638BD6E7290F336156FC18A41B76ED99BB428AB5749955C25C04B8ABAD505AB2C6BE2F4E4F590E3DCAAC92E36B76C9FBC38DD5ED55B5E9B371DAB5D027A4E1E12A6CAB4016115A1E160BADD3A98EE18A077DE15809D356554E24DA66D847E538677D1A408A7F5D2FBDE908EFA62BCAF3E4B23ADBBD6378774D616E25DB54E465A4763424FA4B3B102DEA190E194D66BFB8C04E9B12DC47BABCB5D3A129F3D1ABA14AB993B179F87DA8661ECDCD6A54B4780E70E6156AA83732AB9246DBD9BFBB5F6386E15F6AEB46C7EBAA6556B98BBEC721C121726E4EEC2D62954D7B06C213F9F6D5460FE286D3C602D6824404597A566190656D1BCDC7C06A378120C8A54A865D6A882ABC4368631DF89D6F15804F5D697BAAC822E598561157435CCABA04BE1615DE85AB4577DB56B55A09ED55AEE5D4B915CADA3906A53062445C6B58DCD3C166BDF4E7D0D51E57554F7252092DB4217682113AC5630038B36B9835B58EB6D2881BA197CDB74B580F704D431AB0472EF6A902C8CC9A18281D721E617B1D32EB20ED665576CE8B00B1C44ED4E0A1084F62AD532752E54B48FA1FDA857EBB4FD19EAA5FD02D94676F4386AA4C72288FCE83AA5E3D3D01954C98C50FA00F4AF13515ECDA6A25A8BAA708CCAC6A66860252398FEAAA4516FE589D048123BCDBF09FAC50786C79F340F87DD5D295241AAA8BE2859000EC211CC635C1E63A5E822502D7BA161F36B2446A5B739065E957AB681CBCE0261EC7D81957582C0BC99EE2DFACBFE0F8EA6D4087DB4858D0DD5BB20B0331619846173AF35F4F04AB10526B957ACC2425F7C4D2028DD6B2450687F8E240CE19B45D1ED834903AE6E6344F40F098CB43F5BC5E021CC18E2183C7C0459F475A71584A31EF2108298AEA1976DE74380E460AA8E330338971A5EA4DF57BAA14AD9773B4793592E5DADE9C48138D05A5DAA96C51500E058B408436F31214E3017AAB0720CB43C84836798879D81BAB01C29E0CC1B1C890DFB60B97D47C2DDA5E20605D59A50B88057D145B2966FF567102BE66B55B60813D5284B998A529FC4F6132CED25D14849C34E939C397BFB1462839CE9CAF952280F16159C711C100E2135B9C48EEA976F78187F3408C243908118E9FDF166484089B7273A2C48F70CCA61A12B0B170021F9332411D79CD1B288902B8D564E5AE1AA0E10E6FCC61451CD2EA479961298BB17B2CCAC397EE51996EF5EDA79ED7F33300DDC0F356DA5DF8399C6D2D3027C9332D986B220B5D75F4234CDC59FA30AC07C9F6796083D4B665411116E38C1F51617456E3943493AC64F9C1175CE3A04ABE5B6B4ECEE539F8AE19B5E656F8F74FE3567610404E190B6314CCF2CBC8503E90629D2985A04D3DC4058F3EA51583786688C2E08F809A1626947DDC50C59E000F15073C649AC298F201A6E86DF4806214401288D260CEDF5032E096372B4286280DF7388CD87A2580250B27BE1EC9BD280414C48EF434416BA02BB1828E20B601CCF656510023101162810E0058B2417A9DC2E1E3701872955133EAC999D22AACE699161C84D64E6DB98C9E8F8B6508723D42C87A7794C7B294B0CC0359E45461AACF856AC1965FBC342B30A2645C19833264F5931935AEA0F336681F42011C14A128D0793C61C1700C3F49C18D2F0D567820D0BE38FA4331C48032A8E26143D9D83412296DC0F91C4813D7C9428447C1100661F302F040A1EC2168393F8623C9621D87DD63614CBCDFFF1CCFC761FC8B0F59E9AD06A7A41CD7F192DB0AD453F374BC91C2C7D1AF134C1D14914C24461D42860BDA9989F47A3188351A322A087B046364EE2234BB9F5E2CFBA6D51972DF2F279B71128B2C55F6DE8FC5BBC71E606130B6A46B71CC8A7F8892451345800AA498433E72316905B827AA685989D443CF39903E22B64DAAB7A5B145580A5F0AF30E6784F4FBC0DC32B4730E517BE01937873DB994276253FC12CBF1B39ED443EBB90A76066DF7D1C771EBF5DC75F18F3EF366E3B8DD72EE32F8EF97617E708758088C2A2DCC9AF2C627EC4B61A93420BBE0609D118A04D1692F60DF0C5F80CC5FABE678A872C7524B79ACA10226C287B7ED67E88DCFDC0FF59E54572C3DA0BC6E6D7E7679F0FBCF59EB5FF7AC5CAF46624F19CD3CC5813486E24DAD7799B5DE77D643465447D95BEB8BF286555B24DAAE425DF94EB8B495EBCA95F316537A727BF24BB03AFF27A7FC5B66FB38F87EAEE507196D9FE6A277D0457475833F5FFFC4C1BF3F38F77CD0BAE182CF061A69C05F631FBD321DD6D8771BF4976AA82C148D4A1DBFECCF8EFED5C56FCFFECE67EA0F421CF88843AF10D11E7BEB0FDDD8E132B3F6617C957E633360EBF77EC26D9DCF3DFBFA6DB5AE56344EC13218BFDF9AB34B929927DD9D118DBF37F720C6FF7DFFEF8DF24719A060B320300 , N'6.1.3-40302')

Update CourseSlots 
Set ActivityId = null
Where ActivityId in (SELECT ca.Id FROM CourseActivities ca WHERE CHARINDEX( 'Scenario', Name,0)>0)
GO


Update CourseSlots 
Set ActivityId = null
Where ActivityId in (SELECT ca.Id FROM CourseActivities ca WHERE CHARINDEX( 'Scenario', Name,0)>0)
GO

DELETE FROM ActivityTeachingResources 
Where CourseActivityId in (SELECT ca.Id FROM CourseActivities ca WHERE CHARINDEX( 'Scenario', Name,0)>0)
GO

DELETE FROM CourseActivities WHERE CHARINDEX( 'Scenario', Name,0)>0
GO


select ROW_NUMBER() OVER(PARTITION BY CourseActivities.Name ORDER BY CourseActivities.Name) as NameRank, CourseSlots.Id as CsId, CourseSlots.ActivityId, CourseActivities.Id as CaId, CourseActivities.Name
into #UpdateTable1
from CourseSlots
    join CourseActivities on CourseSlots.ActivityId = CourseActivities.Id

select #UpdateTable1.ActivityId AS idToDelete, RowToKeep.ActivityId AS idToKeep
into #UpdateTable2
from #UpdateTable1
    join (select * from #UpdateTable1 where NameRank = 1) RowToKeep ON #UpdateTable1.Name = RowToKeep.Name
where #UpdateTable1.NameRank != 1

select *
from #UpdateTable1
    join (select * from #UpdateTable1 where NameRank = 1) RowToKeep ON #UpdateTable1.Name = RowToKeep.Name
where #UpdateTable1.NameRank != 1

-- update the data
update CourseSlots
set ActivityId = #UpdateTable2.idToKeep
from CourseSlots
    join #UpdateTable2 ON CourseSlots.Id = #UpdateTable2.idToDelete

-- verify the data
select CourseSlots.ActivityId, CourseActivities.Name
from CourseSlots
    join CourseActivities on CourseSlots.ActivityId = CourseActivities.Id
order by CourseActivities.Name

delete ActivityTeachingResources

--delete the dupes
delete CourseActivities
from CourseActivities
   left outer join CourseSlots on CourseActivities.Id = CourseSlots.ActivityId
where CourseSlots.Id is null

GO
Drop Table #UpdateTable1;
Drop Table #UpdateTable2;

GO
ALTER TABLE dbo.[CourseActivities] ADD CONSTRAINT UniqueCourseActivities_NameCourseTypeId UNIQUE(Name, CourseTypeId);